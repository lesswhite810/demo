<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<!--    <script type="text/javascript" src="jquery-3.3.1.min.js"></script>-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
</head>
<body>

<!--    <form action="/user/loginUser" method="post">-->
<!--        请输入用户名&#45;&#45;：<input type="text" name="userName" id="userName"/><br>-->
<!--        请你输入密码&#45;&#45;：<input type="password" name="password" id="password"/><br>-->
<!--        <input type="submit" value="Login"/>-->
<!--        <a href="/user/toRegister">&#45;&#45;注册&#45;&#45;</a>-->
<!--    </form>-->
    
    <div>
        请输入用户名--：<input type="text" name="userName" id="userName2"/><br>
        请你输入密码--：<input type="password" name="password" id="password2"/><br>
        <button onclick='test()'>提交</button></br>
        
    </div>
    <div id="tip"></div>


    <script>
        function test() {
            var param = JSON.stringify({
                userName: $("#userName2").val(),
                password: $("#password2").val()
            })
            $.ajax({
                url: 'http://localhost:8080/user/loginUser',
                type: "post",
                contentType: 'application/json;charset=utf-8',
                dataType: 'json',
                data: param,
                success: function (data) {
                    if (data.code==200){
                        window.location.href = '/user/welcome';
                    } else{
                        $("#tip").html(data.msg);
                    }
                },
                error: function (data) {
                    $("#tip").html(data.responseText);
                }
            });
        }
        </script>
</body>
</html>